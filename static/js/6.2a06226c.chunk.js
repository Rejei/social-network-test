(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[6],{242:function(e,t,a){e.exports={chatroom:"Messenger_chatroom__3Rq-N",users:"Messenger_users__1bfPX",content:"Messenger_content__1ku77",addMessage:"Messenger_addMessage__2MCCP",messages:"Messenger_messages__3vBFz",message:"Messenger_message__1n6Ex"}},258:function(e,t,a){"use strict";var n=a(2),c=a(8),r=a(94),s=a(9),i=a(5),l=(a(4),a(0)),o=a.n(l),d=a(41),b=a(136),u=a(137),j=a(6),m=a(153);function O(e){var t=e.children,a=e.className,c=e.content,r=Object(i.a)(a,"description"),s=Object(b.a)(O,e),l=Object(u.a)(O,e);return o.a.createElement(l,Object(n.a)({},s,{className:r}),j.b.isNil(t)?c:t)}O.handledProps=["as","children","className","content"],O.propTypes={},O.create=Object(m.a)(O,(function(e){return{content:e}}));var h=O;function p(e){var t=e.children,a=e.className,c=e.content,r=Object(i.a)("header",a),s=Object(b.a)(p,e),l=Object(u.a)(p,e);return o.a.createElement(l,Object(n.a)({},s,{className:r}),j.b.isNil(t)?c:t)}p.handledProps=["as","children","className","content"],p.propTypes={},p.create=Object(m.a)(p,(function(e){return{content:e}}));var f=p;function v(e){var t=e.children,a=e.className,c=e.content,r=e.description,s=e.floated,l=e.header,m=e.verticalAlign,O=Object(i.a)(Object(d.e)(s,"floated"),Object(d.f)(m),"content",a),p=Object(b.a)(v,e),N=Object(u.a)(v,e);return j.b.isNil(t)?o.a.createElement(N,Object(n.a)({},p,{className:O}),f.create(l),h.create(r),c):o.a.createElement(N,Object(n.a)({},p,{className:O}),t)}v.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],v.propTypes={},v.create=Object(m.a)(v,(function(e){return{content:e}}));var N=v,g=a(64);function x(e){var t=e.className,a=e.verticalAlign,c=Object(i.a)(Object(d.f)(a),t),r=Object(b.a)(x,e);return o.a.createElement(g.a,Object(n.a)({},r,{className:c}))}x.handledProps=["className","verticalAlign"],x.propTypes={},x.create=Object(m.a)(x,(function(e){return{name:e}}));var k=x,y=a(135),C=a(168),E=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){t.props.disabled||Object(s.a)(t.props,"onClick",e,t.props)},t}return Object(c.a)(t,e),t.prototype.render=function(){var e=this.props,a=e.active,c=e.children,r=e.className,s=e.content,m=e.description,O=e.disabled,p=e.header,v=e.icon,g=e.image,x=e.value,E=Object(u.a)(t,this.props),w=Object(i.a)(Object(d.a)(a,"active"),Object(d.a)(O,"disabled"),Object(d.a)("li"!==E,"item"),r),_=Object(b.a)(t,this.props),M="li"===E?{value:x}:{"data-value":x};if(!j.b.isNil(c))return o.a.createElement(E,Object(n.a)({},M,{role:"listitem",className:w,onClick:this.handleClick},_),c);var P=k.create(v,{autoGenerateKey:!1}),z=C.a.create(g,{autoGenerateKey:!1});if(!Object(l.isValidElement)(s)&&Object(y.a)(s))return o.a.createElement(E,Object(n.a)({},M,{role:"listitem",className:w,onClick:this.handleClick},_),P||z,N.create(s,{autoGenerateKey:!1,defaultProps:{header:p,description:m}}));var A=f.create(p,{autoGenerateKey:!1}),S=h.create(m,{autoGenerateKey:!1});return P||z?o.a.createElement(E,Object(n.a)({},M,{role:"listitem",className:w,onClick:this.handleClick},_),P||z,(s||A||S)&&o.a.createElement(N,null,A,S,s)):o.a.createElement(E,Object(n.a)({},M,{role:"listitem",className:w,onClick:this.handleClick},_),A,S,s)},t}(l.Component);E.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],E.propTypes={},E.create=Object(m.a)(E,(function(e){return{content:e}}));var w=E;function _(e){var t=e.children,a=e.className,c=e.content,r=Object(b.a)(_,e),s=Object(u.a)(_,e),l=Object(i.a)(Object(d.a)("ul"!==s&&"ol"!==s,"list"),a);return o.a.createElement(s,Object(n.a)({},r,{className:l}),j.b.isNil(t)?c:t)}_.handledProps=["as","children","className","content"],_.propTypes={};var M=_,P=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))||this).handleItemOverrides=function(e){return{onClick:function(a,n){Object(s.a)(e,"onClick",a,n),Object(s.a)(t.props,"onItemClick",a,n)}}},t}return Object(c.a)(t,e),t.prototype.render=function(){var e=this,a=this.props,c=a.animated,s=a.bulleted,l=a.celled,m=a.children,O=a.className,h=a.content,p=a.divided,f=a.floated,v=a.horizontal,N=a.inverted,g=a.items,x=a.link,k=a.ordered,y=a.relaxed,C=a.selection,E=a.size,_=a.verticalAlign,M=Object(i.a)("ui",E,Object(d.a)(c,"animated"),Object(d.a)(s,"bulleted"),Object(d.a)(l,"celled"),Object(d.a)(p,"divided"),Object(d.a)(v,"horizontal"),Object(d.a)(N,"inverted"),Object(d.a)(x,"link"),Object(d.a)(k,"ordered"),Object(d.a)(C,"selection"),Object(d.b)(y,"relaxed"),Object(d.e)(f,"floated"),Object(d.f)(_),"list",O),P=Object(b.a)(t,this.props),z=Object(u.a)(t,this.props);return j.b.isNil(m)?j.b.isNil(h)?o.a.createElement(z,Object(n.a)({role:"list",className:M},P),Object(r.a)(g,(function(t){return w.create(t,{overrideProps:e.handleItemOverrides})}))):o.a.createElement(z,Object(n.a)({role:"list",className:M},P),h):o.a.createElement(z,Object(n.a)({role:"list",className:M},P),m)},t}(l.Component);P.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],P.propTypes={},P.Content=N,P.Description=h,P.Header=f,P.Icon=k,P.Item=w,P.List=M;t.a=P},262:function(e,t,a){"use strict";a.r(t);var n=a(25),c=a(28),r=a(1),s=a(0),i=a.n(s),l=a(35),o=a(14),d=a(20),b=a(258),u=a(168),j=a(7),m=a.n(j),O=a(11),h=a(61),p=a(236),f=a(75),v=a(86),N=function(e){var t=Object(l.c)(),a=Object(l.d)((function(e){return e.messenger.status}));return Object(r.jsx)(h.b,{onSubmit:function(e){var a=e.newMessage;a&&t(Object(f.c)(a))},validate:e.validate,render:function(t){var n=t.handleSubmit,c=t.form,s=t.pristine,i=t.submitting;t.values,t.reset;return Object(r.jsxs)("form",{onSubmit:function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:c.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("div",{children:Object(r.jsx)(h.a,{name:"newMessage",component:v.b,placeholder:"Enter your message",userName:e.userName})}),Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{type:"submit",disabled:"ready"!==a||s||i,children:"Send message"})})]})}})},g=a(87),x=g.a?s.useLayoutEffect:s.useEffect,k={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};var y=g.a&&"undefined"!==typeof window.ResizeObserver?function(){var e=Object(s.useState)(null),t=e[0],a=e[1],n=Object(s.useState)(k),c=n[0],r=n[1],i=Object(s.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,a=t.x,n=t.y,c=t.width,s=t.height,i=t.top,l=t.left,o=t.bottom,d=t.right;r({x:a,y:n,width:c,height:s,top:i,left:l,bottom:o,right:d})}}))}),[]);return x((function(){if(t)return i.observe(t),function(){i.disconnect()}}),[t]),[a,c]}:function(){return[g.b,k]},C=a(237),E=a(242),w=a.n(E),_=a(235),M=i.a.memo((function(e){var t=e.message,a=e.onClick;return Object(r.jsxs)("div",{className:w.a.message,children:[Object(r.jsx)("label",{className:w.a.messageAuthor,onClick:function(){a("".concat(t.userName),"".concat(Object(_.a)()))},children:Object(r.jsx)("b",{children:t.userName})}),Object(r.jsx)("span",{children:t.message}),Object(r.jsx)("div",{className:"ui divider"})]})})),P=function(e){var t=e.onClick,a=Object(l.d)((function(e){return e.messenger.messages})),c=Object(s.useState)(!0),i=Object(n.a)(c,2),o=i[0],d=i[1],b=y(),u=Object(n.a)(b,2),j=u[0],m=u[1].height,O=Object(C.a)().y;return Object(s.useEffect)((function(){m-O<2e3?!o&&d(!0):o&&d(!1)})),Object(s.useEffect)((function(){o&&window.scrollTo({top:m,behavior:"smooth"})}),[o,m,a]),Object(r.jsx)("div",{className:w.a.messages,ref:j,children:a.map((function(e){return Object(r.jsx)(M,{message:e,onClick:t},e.id)}))})};t.default=function(e){var t=e.isAuth,a=Object(l.d)((function(e){return e.messenger.status})),i=Object(l.d)((function(e){var t=e.messenger.messages.map((function(e){return[e.userName,e.userId,e.photo].join(" + ")})),a=new Set(t);return Object(c.a)(a).map((function(e){return e.split(" + ")}))})),j=Object(s.useState)([]),m=Object(n.a)(j,2),O=m[0],h=m[1];return!1===t?Object(r.jsx)(o.a,{to:"/login"}):Object(r.jsxs)("div",{className:w.a.chatroom,children:[Object(r.jsx)("div",{className:w.a.users,children:i.map((function(e){return Object(r.jsx)(b.a,{children:Object(r.jsxs)(b.a.Item,{children:[Object(r.jsx)(u.a,{src:e[2]}),Object(r.jsx)(b.a.Content,{children:Object(r.jsx)(b.a.Header,{children:Object(r.jsx)(d.b,{to:"/profile/".concat(e[1]),children:e[0]})})})]})})}))}),Object(r.jsxs)("div",{className:w.a.content,children:["error"===a&&Object(r.jsx)("div",{children:"Some Error"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(P,{onClick:function(e,t){h([e,t])}}),Object(r.jsx)("div",{className:w.a.addMessage,children:Object(r.jsx)(N,{userName:O})})]})]})]})}}}]);
//# sourceMappingURL=6.2a06226c.chunk.js.map