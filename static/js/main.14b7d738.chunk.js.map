{"version":3,"sources":["components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/common/ButtonDestination/ButtonToTop.module.scss","redux/profile-reducer.js","assets/images/user.png","components/Users/Users.module.css","components/common/MenuButton/MenuButton.module.scss","components/Menu/Menu.module.scss","reportWebVitals.js","components/Menu/Menu.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/styledComponents.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","assets/images/snt.svg","assets/images/cct.svg","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/messages-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","components/common/MenuButton/MenuButton.jsx","components/common/ButtonDestination/ButtonToTop.jsx","App.js","Fontawesome.js","index.js","api/api.js","components/Header/Header.module.scss","api/messenger-api.js","redux/messenger-reducer.js","components/common/Forms/formsControls.module.scss","assets/images/rotating-balls-spinner.gif","components/common/Preloader/Preloader.js","components/common/Forms/formsControl.js"],"names":["module","exports","required","value","undefined","maxLengthCreator","maxLength","length","linkValidator","values","linkField","active","linkName","name","replace","includes","indexOf","composeValidators","validators","nameValueObj","fieldObj","reduce","error","validator","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","UPDATE_POST_TEXT","initialState","postsData","id","message","profile","status","addPostCreator","myNewPost","type","setStatus","getProfile","userId","dispatch","a","usersAPI","response","getStatus","profileAPI","updateStatus","resultCode","console","log","savePhoto","file","photos","data","messages","saveProfile","getState","auth","profileReducer","state","action","newPost","likesCount","newPostText","newText","filter","p","postId","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","DimmingMenu","visible","useState","visibility","setVisibility","useEffect","Sidebar","Pushable","as","Segment","Menu","animation","icon","vertical","Item","className","styles","item","to","notActive","activeClassName","activeItem","News","props","Music","Settings","updateObjInArray","items","itemId","objPropName","map","u","followed","TOGGLE_FOLLOW_UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","portionSize","toggleIsFetching","toggleFollowingInProgress","usersReducer","count","Paginator","totalItemsCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","paginator","onClick","cn","selectedPage","pageNumber","e","StyledFollow","styled","Button","FollowButton","div","Heart","User","user","toggleFollow","src","small","noPhotoUser","userPhoto","tabIndex","disabled","some","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","setCurrentPage","requestUsers","this","Preloader","React","Component","connect","setFollow","page","totalCount","Chats","isRead","setVisible","any","setTimeout","mask","comment","Grid","Column","onLoad","Transition","duration","newComment","Header","isAuth","login","logout","Image","image","snt","buttonLog","inverted","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","authAPI","me","getCaptchaUrl","securityAPI","url","authReducer","HeaderContainer","LoginForm","onSubmit","validate","render","submitError","handleSubmit","submitting","form","pristine","component","Input","placeholder","alt","errors","password","rememberMe","captcha","formData","INITIALIZED_SUCCESS","initialized","appReducer","ADD_MESSAGE","idUser","idMessage","time","dialogs","messagesReducer","newMessageBody","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","app","messenger","messengerReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","MenuButton","buttonStyle","Icon","menu","ButtonToTop","pageYOffset","useWindowScroll","y","buttonToTop","scrollTo","top","behavior","chevron","MessengerContainer","lazy","Chatroom","ProfileComponent","App","isToggleOn","newStatus","newLastMessage","handleClick","bind","setState","initializeApp","prevState","prevProps","stopMessagesListening","startMessagesListening","cleanUpMessages","location","pathname","fallback","exact","path","listMessages","lastMessage","PureComponent","AppContainer","withRouter","statusWS","SamuraiJSApp","basename","process","library","add","faGrinAlt","faGrinAltSolid","faCircle","faHeart","faFacebook","faVk","faTwitter","faInstagram","faYoutube","faGithub","faLink","faChevronUp","faCommentDots","faCommentDotsSolid","ReactDOM","document","getElementById","instance","axios","withCredentials","baseURL","headers","get","post","delete","warn","put","photoFile","FormData","append","subscribers","wsChannel","closeHandler","notifySubscribersAboutStatus","createChannel","messagesHandler","newMessages","JSON","parse","forEach","s","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","messengerAPI","eventName","callback","send","MESSAGES_RECIEVED","STATUS_CHANGED","CLEAN_UP_MESSAGES","actions","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","sendMessage","m","v1","index","array","preloader","FormComponent","input","meta","children","hasError","touched","formControl","postTextWrapper","StyledTextArea","TextareaAutosize","Textarea","userName","restProps","author","textAuthor","setTextAuthor","nextText","setNextText","inputRef","useRef","inInput","setInInput","Object","defineProperty","configurable","enumerable","writable","textInput","current","join","ref","onChange","nativeEvent","n","slice","child"],"mappings":"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","file":"static/js/main.14b7d738.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3rZax\",\"pageNumber\":\"Paginator_pageNumber__3XV2C\",\"selectedPage\":\"Paginator_selectedPage__kn2RT\"};","export const required = value => \r\n     value ? undefined : \"Field is required\"\r\n\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if(!value) return undefined;\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}\r\n\r\nexport const linkValidator = (values, linkField) => {\r\n    if(values){\r\n    if (linkField.active) {\r\n        const linkName = linkField.name.replace('contacts.', '')\r\n        if ((linkField.value.includes(`${linkName}.com/`) && linkField.value.indexOf(`${linkName}`) === 0 ) || (linkField.value.includes(`https://${linkName}.com/`) && linkField.value.indexOf(\"https://\") === 0)) {\r\n                return undefined\r\n            } else { return `We have some troubles with your link - ${linkName}. Please note: We expect ${linkName}.com/ or https://${linkName}.com/` }\r\n    }\r\n}\r\n    return undefined\r\n}\r\n\r\nexport const composeValidators = (...validators) => (values, nameValueObj, fieldObj) => {\r\n    return validators.reduce((error, validator) => error || validator(values, fieldObj), undefined)\r\n  }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonToTop\":\"ButtonToTop_buttonToTop__Zh3l2\",\"chevron\":\"ButtonToTop_chevron__21nqC\",\"scrollTop\":\"ButtonToTop_scrollTop__3OZaC\"};","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'samurai-network/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'samurai-network/profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'samurai-network/profile/SET-STATUS';\r\nconst DELETE_POST = 'samurai-network/profile/DELETE-POST';\r\nconst SAVE_PHOTO_SUCCESS = 'samurai-network/profile/SAVE-PHOTO-SUCCESS';\r\nconst SAVE_PROFILE = 'samurai-network/profile/SAVE-PROFILE';\r\nconst UPDATE_POST_TEXT ='samurai-network/profile/UPDATE-POST-TEXT';\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: 'Hi, how are U?', \"likesCount\": '10' },\r\n        { id: 2, message: 'It\\'s my first post', \"likesCount\": '15' }\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.myNewPost,\r\n                likesCount: '0'\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            }\r\n        case UPDATE_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id !== action.postId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}; \r\n\r\nexport const addPostCreator = (myNewPost) => ({ type: ADD_POST, myNewPost });\r\n\r\nexport const updatePostCreator = (newText) => ({ type: UPDATE_POST_TEXT, newText });\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const saveProfileSuccess = (profile) => ({ type: SAVE_PROFILE, profile })\r\n\r\nexport const getProfile = (userId) =>\r\n    async (dispatch) => {\r\n        const response = await usersAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response));\r\n    }\r\n\r\nexport const getStatus = (userId) =>\r\n    async (dispatch) => {\r\n        const response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response));\r\n    }\r\n\r\nexport const updateStatus = (status) =>\r\n    async (dispatch) => {\r\n        try {\r\n            const response = await profileAPI.updateStatus(status)\r\n            if (response.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\nexport const savePhoto = (file) =>\r\n    async (dispatch) => {\r\n        const response = await profileAPI.savePhoto(file)\r\n        debugger\r\n        if (response.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(response.data.photos));\r\n        } else {\r\n            return await response.messages[0]\r\n        }\r\n    }\r\n\r\n    export const saveProfile = (profile) => async (dispatch, getState) => {\r\n        const userId = getState().auth.userId\r\n        const response = await profileAPI.saveProfile(profile)\r\n        if (response.resultCode === 0) {\r\n            dispatch(getProfile(userId));\r\n        }\r\n    }\r\n\r\n\r\nexport default profileReducer;","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2M429\",\"ui\":\"Users_ui__1MsIi\",\"left\":\"Users_left__2uzD0\",\"labeled\":\"Users_labeled__3zdtJ\",\"button\":\"Users_button__2E44r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MenuButton_menu__ExosH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Menu_item__1zSh4\",\"notActive\":\"Menu_notActive__1km4A\",\"activeItem\":\"Menu_activeItem__3XP13\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useEffect, useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Menu.module.scss';\r\nimport {\r\n  Menu,\r\n  Segment,\r\n  Sidebar,\r\n} from 'semantic-ui-react'\r\n\r\nconst DimmingMenu = ({visible}) => {\r\n  const [visibility, setVisibility ] = useState('');\r\n\r\n  useEffect(() => {\r\n    visible ? setVisibility('visible') : setVisibility('not-visible');\r\n  }, [visible])\r\n\r\n    return (\r\n       <Sidebar.Pushable as={Segment} id={`${visibility}`}>\r\n        <Sidebar\r\n            as={Menu}\r\n            id='columnWithButtons'\r\n            animation='overlay'\r\n            icon='labeled'\r\n            vertical\r\n          >\r\n    <Menu.Item as='div' className={styles.item} >\r\n    <NavLink to=\"/profile\" className={styles.notActive}  activeClassName={styles.activeItem}>Profile</NavLink>\r\n    </Menu.Item>\r\n    <Menu.Item as='div' className={styles.item}>\r\n      <NavLink to=\"/messenger\" className={styles.notActive}  activeClassName={styles.activeItem}>Messenger</NavLink>\r\n      </Menu.Item>\r\n    <Menu.Item as='div' className={styles.item}>\r\n      <NavLink to=\"/users\" className={styles.notActive}  activeClassName={styles.activeItem}>Users</NavLink>\r\n      </Menu.Item>\r\n    <Menu.Item as='div' className={styles.item}>\r\n      <NavLink to=\"news\" className={styles.notActive}  activeClassName={styles.activeItem}>News</NavLink>\r\n      </Menu.Item>\r\n      <Menu.Item as='div' className={styles.item}>\r\n        <NavLink to=\"music\" className={styles.notActive}  activeClassName={styles.activeItem}>Music</NavLink>\r\n        </Menu.Item>\r\n      <Menu.Item as='div' className={styles.item}>\r\n        <NavLink to=\"/settings\" className={styles.notActive}  activeClassName={styles.activeItem}>Settings</NavLink>\r\n        </Menu.Item>\r\n      </Sidebar>\r\n      </Sidebar.Pushable>\r\n    )\r\n}\r\n\r\nexport default DimmingMenu;","import React from 'react';\r\nimport style from './News.module.css';\r\n\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport style from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport style from './Settings.module.css';\r\n\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjInArray = (items, itemId, objPropName) => {\r\n    return items.map(u => {\r\n        if(u[objPropName] === itemId){\r\n            return {...u, followed: !u.followed }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjInArray } from \"../utils/object-helpers\";\r\n\r\nconst TOGGLE_FOLLOW_UNFOLLOW = 'samurai-network/users/TOGGLE-FOLLOW-UNFOLLOW'\r\nconst SET_USERS = 'samurai-network/users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'samurai-network/users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'samurai-network/users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'samurai-network/users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'samurai-network/users/TOGGLE-FOLLOWING-IN-PROGRESS';\r\n\r\n\r\nlet initialState =  {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true, \r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case TOGGLE_FOLLOW_UNFOLLOW:\r\n            return { \r\n                ...state,\r\n                users: updateObjInArray(state.users, action.userId, \"id\")\r\n            } \r\n\r\n            case SET_USERS: {\r\n                return { ...state, users: action.users}\r\n            }\r\n\r\n            case SET_CURRENT_PAGE: {\r\n                return {...state, currentPage: action.currentPage}\r\n            }\r\n\r\n            case SET_TOTAL_USERS_COUNT: {\r\n                return { ...state, totalUsersCount: action.count}\r\n            }\r\n\r\n            case TOGGLE_IS_FETCHING: {\r\n                return { ...state, isFetching: action.isFetching}\r\n            }\r\n\r\n            case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n                return { ...state,\r\n                    followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId] \r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const toggleFollowUnfollow = (userId) => ( {type: TOGGLE_FOLLOW_UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingInProgress = (followingInProgress, userId) => ({type: TOGGLE_FOLLOWING_IN_PROGRESS, followingInProgress, userId})\r\n\r\nexport const requestUsers = (page, pageSize) =>\r\n    async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        \r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n    };\r\n\r\nexport const toggleFollow = (user) =>\r\n    async (dispatch) => {\r\n        toggleFollowingInProgress(true, user.id)\r\n        let data = await usersAPI.setFollow(user)\r\n              if (data.resultCode === 0){\r\n                dispatch(toggleFollowUnfollow(user.id))  \r\n              }\r\n                dispatch(toggleFollowingInProgress(false, user.id))\r\n\r\n    }\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport style from './Paginator.module.css';\r\nimport cn from \"classnames\"\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    \r\n    return <div className={style.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={ () => { setPortionNumber(portionNumber - 1) }}>Prev</button>\r\n        }\r\n        {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map( p => {\r\n            return <span className={cn({\r\n                [style.selectedPage]: currentPage === p\r\n             }, style.pageNumber)} key={p} \r\n            onClick= {(e) => {onPageChanged(p)}}>{p}</span>\r\n        })}\r\n        {portionNumber < portionCount &&\r\n        <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>Next</button>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nexport const StyledFollow = styled(Button)` &&& {\r\n        width: 10rem;\r\n        height: 1.3rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        align-items: normal;\r\n    }\r\n    &&&:hover {\r\n        background: black;\r\n    }`;\r\n\r\nexport const FollowButton = styled.div` \r\n&&& {\r\n    width: 50%;\r\n    padding-top: 0.1rem;\r\n    padding-right: 0.5em;\r\n    padding-left: 0.5em;\r\n    padding-bottom: 0;\r\n    margin: 0;\r\n\r\n}\r\n&&&:hover {\r\n    color: white;\r\n    background: blue;\r\n}`;\r\n\r\nexport const Heart = styled.a` \r\n&&& {\r\n    width: 50%;\r\n    justify-content: center;\r\n    padding-top: 0;\r\n    padding-right: 0;\r\n    padding-left: 1em;\r\n    padding-bottom: 0;\r\n    margin: 0;\r\n}`;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Heart, FollowButton, StyledFollow } from './styledComponents';\r\nimport noPhotoUser from '../../assets/images/user.png';\r\nimport style from './Users.module.css';\r\n\r\n\r\nlet User = ({ user, followingInProgress, toggleFollow }) => {\r\n    \r\n    return <div>\r\n        <span>\r\n            <NavLink to={'/profile/' + user.id}>\r\n                <div>\r\n                    <img src={user.photos.small != null ? user.photos.small : noPhotoUser} className={style.userPhoto} />\r\n                </div>\r\n            </NavLink>\r\n\r\n                <StyledFollow className=\"ui left labeled button\" tabIndex=\"0\">\r\n                    <Heart className=\"ui basic label\"> {user.followed ? <i className=\"green heart icon\"></i> : <i className=\"grey heart icon\"></i>} </Heart>\r\n                    <FollowButton className=\"ui button\" disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => { toggleFollow(user) }}>{user.followed ? 'Unfollow' : 'Follow'}\r\n                    </FollowButton>\r\n                </StyledFollow>\r\n\r\n        </span>\r\n        <span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{'user.location.country'}</div>\r\n                <div>{'user.location.city'}</div>\r\n            </span>\r\n        </span>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({currentPage, totalUsersCount, onPageChanged, pageSize, users, portionSize, ...props}) => {\r\n\r\n    return <div>\r\n    <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n               totalItemsCount={totalUsersCount} pageSize = {pageSize} \r\n               portionSize = {portionSize}/>\r\n    <div>\r\n    {\r\n        users.map(u => <User user={u}\r\n                             key={u.id}\r\n                             followingInProgress={props.followingInProgress}\r\n                             toggleFollow={props.toggleFollow} \r\n                             />)\r\n    }\r\n    </div>\r\n</div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { toggleFollow, setCurrentPage, requestUsers, toggleFollowingInProgress } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { getUsers, getTotalUsersCount, getPageSize, getCurrentPage, getIsFetching, getFollowingInProgress, getPortionSize } from '../../redux/users-selectors';\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const pageSize = this.props\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                toggleFollow={this.props.toggleFollow}\r\n                followingInProgress={this.props.followingInProgress} \r\n                portionSize={this.props.portionSize} />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    \r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize (state),\r\n        totalUsersCount: getTotalUsersCount (state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, \r\n    { toggleFollow, setCurrentPage, toggleFollowingInProgress, requestUsers }\r\n    )(UsersContainer);","export default __webpack_public_path__ + \"static/media/snt.009d79e6.svg\";","export default __webpack_public_path__ + \"static/media/cct.0a2fb1f7.svg\";","import React, { useState } from 'react';\r\nimport { NavLink, Route } from 'react-router-dom';\r\nimport { Button, Grid, Image, Transition } from 'semantic-ui-react';\r\nimport styles from './Header.module.scss';\r\nimport snt from './../../assets/images/snt.svg';\r\nimport cct from './../../assets/images/cct.svg';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\n\r\nconst Chats = ({isRead}) => {\r\n    const [visible, setVisible] = useState(true)\r\n\r\n       const start = () => {\r\n        visible ? setVisible(false) :  setVisible(true)\r\n       }\r\nconst any = setTimeout(start, 1000)\r\n\r\n    return <div >{!isRead ? <NavLink to={'/messenger'}>\r\n                                <Grid.Column onLoad ={() => any}>\r\n                                <Transition\r\n                                    animation = 'tada'\r\n                                    duration = '100'\r\n                                    visible = {visible}\r\n                                    ><FontAwesomeIcon icon={['fas', 'comment-dots']} \r\n                                             mask={['far', 'circle']} \r\n                                             className={styles.newComment}\r\n                                             \r\n                                             />\r\n                                </Transition>\r\n                                </Grid.Column>\r\n                            </NavLink>\r\n                     : <NavLink to={'/messenger'}><FontAwesomeIcon icon={[\"far\", \"comment-dots\"]} \r\n                                        mask={[\"fas\", \"circle\"]} \r\n                                        className= {styles.comment}/></NavLink>\r\n                                        }\r\n    </div> \r\n}\r\n\r\n\r\n\r\nconst Header = ({isAuth, login, logout, isRead}) => {\r\n\r\n    return <header id=\"header\">\r\n            <Image className={styles.image} src={snt} />\r\n            { isAuth \r\n            ? <div className={styles.login}><span><b>{login}</b> \r\n                -</span><div ><Chats isRead={isRead}/></div><Button className={styles.buttonLog} inverted onClick={logout}>Log Out</Button>\r\n                </div>\r\n             : <NavLink to={'/login'}><Button className={styles.buttonLog} inverted > Login</Button></NavLink> }\r\n    </header>\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET-CAPTCHA-URL-SUCCESS'\r\n\r\n\r\nlet initialState =  {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    error: \"\",\r\n    captchaUrl: null //Captcha is not required, if null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {  \r\n                ...state,\r\n                ...action.payload,\r\n                }\r\n        \r\n        default:\r\n            return state; \r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth, error) => (\r\n    { type: SET_USER_DATA, payload: { userId, email, login, isAuth, error } \r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => (\r\n    { type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } \r\n});\r\n\r\nexport const getAuthUserData = () => async dispatch => {\r\n    const response = await authAPI.me()\r\n        if(response.resultCode === 0){\r\n            const {id, login, email} = response.data\r\n            dispatch(setAuthUserData(id, email, login, true, \"\"))\r\n        }\r\n}\r\nexport const login =  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha)\r\n            if (response.resultCode === 0) {\r\n                dispatch(getAuthUserData());\r\n            } else {\r\n                if(response.resultCode === 10){\r\n                    dispatch(getCaptchaUrl())\r\n                }\r\n                const message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n                dispatch(setAuthUserData(null, null, null, false, message));\r\n            }\r\n}\r\n\r\nexport const getCaptchaUrl =  () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl)) \r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n   const response = await authAPI.logout()\r\n        if(response.resultCode === 0){\r\n            dispatch(setAuthUserData(null, null, null, false, \"\"))\r\n        }\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render(){\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout})(HeaderContainer);","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { composeValidators, required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/Forms/formsControl';\r\nimport style from './../common/Forms/formsControls.module.scss'\r\n\r\nconst LoginForm = ({onSubmit, validate, captchaUrl, error}) => (\r\n        <Form\r\n            onSubmit={onSubmit}\r\n            validate={validate}\r\n            render={({ submitError,\r\n                handleSubmit,\r\n                form,\r\n                submitting,\r\n                pristine,\r\n                values}) => (\r\n                <form onSubmit={handleSubmit} >\r\n                    <h2>Enter your Email</h2>\r\n                    <div>\r\n                        <label>Email</label>\r\n                <Field name=\"email\" \r\n                component={Input}\r\n                validate={validate} \r\n                placeholder=\"Email\"/>\r\n            </div>\r\n            <h2>Enter the Password</h2>\r\n        <div>\r\n          <Field name=\"password\" component={Input} placeholder=\"password\"\r\n           validate={validate} type=\"password\"/>\r\n        </div>\r\n        <div>\r\n            <Field name=\"rememberMe\" component={Input} type=\"checkbox\" />\r\n            <label>remember me</label>\r\n        </div>\r\n        <div>\r\n            {error && <div className={style.error}> {error}</div>}\r\n        </div>\r\n\r\n        <div>\r\n            {captchaUrl && <img alt='captcha' src={captchaUrl}/>}\r\n            {captchaUrl && <Field name=\"captcha\" component={Input} validate={validate}  type=\"text\" />}\r\n        </div>\r\n            <div>\r\n                <button type=\"submit\" disabled={submitting || pristine} errors={submitError}>Log In</button>\r\n            </div>\r\n                </form>\r\n            )}\r\n        />\r\n    )\r\n\r\n \r\n\r\n\r\n\r\nconst Login = ({login, isAuth, error, captchaUrl}) => {\r\n\r\n    const onSubmit = formData => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha, error)\r\n    }\r\n\r\n    if(isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginForm onSubmit={onSubmit} validate={composeValidators(required)} submitError={error} captchaUrl={captchaUrl } />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n    error: state.auth.error\r\n})\r\n\r\nexport default connect( mapStateToProps, {login} )(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState =  {\r\n    initialized: false,\r\n\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS:\r\n            \r\n            return {  \r\n                ...state,\r\n                initialized: true,\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => (\r\n    { type: INITIALIZED_SUCCESS } \r\n);\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    await dispatch(getAuthUserData())\r\n    //dispatch(somethingelse())\r\n    //dispatch(somethingelse())\r\n    \r\n    dispatch(initializedSuccess())\r\n}\r\n\r\nexport default appReducer;","const ADD_MESSAGE = 'samurai-network/messages/ADD-MESSAGE';\r\n\r\n\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { idUser: 1, idMessage: 1, message: 'Hi', time: '25.06.2021 10.53' },\r\n        { idUser: 2, idMessage: 2, message: 'How r U?', time: '01.06.2021 10.55' },\r\n        { idUser: 3, idMessage: 3, message: 'Everything is Fine!', time: '10.06.2021 10.53' }\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Andrey' },\r\n        { id: 2, name: 'Serega' },\r\n        { id: 3, name: 'Maxim' },\r\n        { id: 4, name: 'Oleg' },\r\n        { id: 5, name: 'Vova' },\r\n        { id: 6, name: 'Artur' },\r\n        { id: 7, name: 'Pasha' },\r\n    ]\r\n}\r\n\r\nexport const messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { idMessage: 4, message: action.newMessageBody }]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageCreator = (newMessageBody) => ({ type: ADD_MESSAGE, newMessageBody });\r\n\r\nexport default messagesReducer;","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messagesReducer from './messages-reducer';\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\nimport messengerReducer from \"./messenger-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: messagesReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    messenger: messengerReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store\r\n\r\nexport default store;","import React from 'react';\r\nimport { Button, Icon } from 'semantic-ui-react';\r\nimport styles from './MenuButton.module.scss'\r\n\r\n\r\nconst MenuButton = ({buttonStyle}) => {\r\n    return (\r\n    <Button id='menuButton' className='inverted button'>\r\n        {buttonStyle === false ? <Icon className={`angle double right ${styles.menu}`} /> : 'Menu'}\r\n  </Button>\r\n    )\r\n};\r\n\r\nexport default MenuButton","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, {useState, useEffect } from 'react';\r\nimport { useWindowScroll } from 'react-use';\r\nimport { Button } from 'semantic-ui-react';\r\nimport styles from './ButtonToTop.module.scss'\r\n\r\n\r\n\r\nconst ButtonToTop = () => {\r\n \r\n    const { y: pageYOffset } = useWindowScroll();\r\n    const [visible, setVisibility] = useState(true);\r\n    \r\n    useEffect(() => {\r\n        if (pageYOffset > 400) {\r\n            setVisibility(true);\r\n        } else {\r\n            setVisibility(false);\r\n        }\r\n    }, [pageYOffset]);\r\n\r\n    const scrollToTop = () => window.scrollTo({ top: 0, behavior: 'smooth' });\r\n\r\n     if (!visible) {\r\n        return false;\r\n    }\r\n \r\nreturn (\r\n    <div id='to-top'>\r\n    <Button className={styles.buttonToTop} onClick={scrollToTop}>\r\n        <FontAwesomeIcon className={styles.chevron} icon={\"chevron-up\"} />\r\n    </Button>\r\n    </div>\r\n)}\r\n\r\nexport default ButtonToTop;","import React, { PureComponent, Suspense } from 'react';\nimport { HashRouter, Redirect, Route, Switch, withRouter } from 'react-router-dom';\nimport './App.scss';\nimport Menu from './components/Menu/Menu';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport { cleanUpMessages, startMessagesListening, stopMessagesListening} from './redux/messenger-reducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport MenuButton from './components/common/MenuButton/MenuButton';\nimport ButtonToTop from './components/common/ButtonDestination/ButtonToTop';\n\nconst MessengerContainer = React.lazy(() => import('./components/Messenger/MessengerContainer'))\nconst Chatroom = React.lazy(() => import('./components/Messenger/Chatroom'));\nconst ProfileComponent = React.lazy(() => import('./components/Profile/ProfileComponent'));\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isToggleOn: true,\n      newStatus: 'Off',\n      newLastMessage: '',\n      isRead: true\n    }\n    this.handleClick = this.handleClick.bind(this);    \n  }\n\n  handleClick() {\n    this.setState(state => ({\n      ...state,\n      isToggleOn: !state.isToggleOn\n    }));\n  }\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n  componentDidUpdate(prevState, prevProps) {\n    if (!this.props.isAuth) {\n      if (this.state.newStatus === 'On') {\n        this.props.stopMessagesListening();\n        this.props.cleanUpMessages();\n        this.setState({\n          ...this.state,\n          newStatus: 'Off'\n        })\n      }\n    } else {\n      if (this.state.newStatus === 'Off') {\n        this.props.stopMessagesListening();\n        this.props.startMessagesListening()\n        this.setState({\n          ...this.state,\n          newStatus: 'On'\n        })\n      }\n    }\n    if (this.props.messages.length !== 0) {\n      if(this.props.messages[this.props.messages.length-1].message !== this.state.newLastMessage && this.props.location.pathname !== '/messenger'){\n        console.log(this.state.isRead)\n        this.setState({\n          ...this.state,\n          isRead: false\n        })\n      } else if(this.props.location.pathname === '/messenger'){\n        this.setState({\n          ...this.state,\n          newLastMessage: this.props.messages[this.props.messages.length-1].message,\n          isRead: true\n        })\n      }\n\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.stopMessagesListening();\n    this.props.cleanUpMessages();\n    this.setState({\n      ...this.state,\n      newStatus: 'Off'\n    })\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className='app-wrapper' >\n        <div className='header-with-button'><HeaderContainer isRead={this.state.isRead}/>\n          <div className='menu-button' onClick={this.handleClick}><MenuButton buttonStyle={this.state.isToggleOn} /></div>\n        </div>\n        <div className='menu-with-content'>\n          <Menu visible={this.state.isToggleOn} />\n          <div className='app-wrapper-content'>\n            <Suspense fallback={<Preloader />}>\n              <Switch>\n                <Route exact path='/' render={() => <Redirect to={'/profile'} />} />\n                <Route path='/profile/:userId?' render={() => <ProfileComponent />} />\n                <Route path='/news' render={() => <News />} />\n                <Route path='/music' render={() => <Music />} />\n                <Route path='/settings' render={() => <Settings />} />\n                <Route path='/users' render={() => <UsersContainer />} />\n                <Route path='/login' render={() => <Login />} />\n                <Route exact path='/messenger' render={() => <MessengerContainer listMessages={this.state.lastMessage} />} />\n                <Route path='/messenger/chatroom' render={() => <Chatroom />} />\n                <Route path='*' render={() => <div>404 PAGE NOT FOUND</div>} />\n              </Switch>\n            </Suspense>\n            <ButtonToTop />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n  isAuth: state.auth.isAuth,\n  statusWS: state.messenger.status,\n  messages: state.messenger.messages\n})\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {\n    initializeApp, cleanUpMessages, startMessagesListening, stopMessagesListening\n  })\n)(App);\nconst SamuraiJSApp = (props) => {\n  return <HashRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n}\nexport default SamuraiJSApp\n","// import the library\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faFacebook, faGithub, faInstagram, faTwitter, faVk, faYoutube } from '@fortawesome/free-brands-svg-icons';\r\n\r\n// import icons\r\nimport { faCommentDots, faGrinAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport {\r\n    faChevronUp,\r\n    faCircle,\r\n    faGrinAlt as faGrinAltSolid,\r\n    faHeart,\r\n    faLink,\r\n    faCommentDots as faCommentDotsSolid\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nlibrary.add(\r\nfaGrinAlt,\r\nfaGrinAltSolid,\r\nfaCircle,\r\nfaHeart,\r\nfaFacebook,\r\nfaVk,\r\nfaTwitter,\r\nfaInstagram,\r\nfaYoutube,\r\nfaGithub,\r\nfaLink,\r\nfaChevronUp,\r\nfaCommentDots,\r\nfaCommentDotsSolid\r\n);","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from './App';\nimport 'semantic-ui-less/semantic.less';\nimport 'semantic-ui-css/semantic.min.css';\nimport './Fontawesome';\n\n  ReactDOM.render(\n    <SamuraiJSApp /> ,\n    document.getElementById('root')\n  );\n      \n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '8389851f-540e-4430-b9f2-c897b55257fa'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    async getUsers(currentPage, pageSize) {\r\n        let response = await instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        return response.data;\r\n    },\r\n\r\n    async setFollow(user) {\r\n        if (user.followed === false) {\r\n            let response = await instance.post(`follow/${user.id}`, {})\r\n            return response.data\r\n        } else {\r\n            let response = await instance.delete(`follow/${user.id}`, {})\r\n            return response.data\r\n        }\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    async getProfile(userId) {\r\n        let response = await instance.get(`profile/${userId}`)\r\n        return response.data\r\n    },\r\n\r\n    async getStatus(userId) {\r\n        let response = await instance.get(`profile/status/${userId}`)\r\n        return response.data\r\n    },\r\n\r\n    async updateStatus(status) {\r\n        let response = await instance.put('profile/status', { status: status })\r\n        return response.data\r\n    },\r\n\r\n    async savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        let response = await instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        return response.data\r\n    },\r\n\r\n    async saveProfile(profile){\r\n        let response = await instance.put('profile', profile)\r\n        return response.data\r\n    },\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    async me() {\r\n        const response = await instance.get(`auth/me`, {})\r\n        return response.data\r\n    },\r\n    async login(email, password, rememberMe = false, captcha = null) {\r\n        const response = await instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n        return response.data\r\n    },\r\n    async logout() {\r\n        const response = await instance.delete(`auth/login`, {})\r\n        return response.data;\r\n    }\r\n\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl(){\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Header_image__3BzLg\",\"login\":\"Header_login__2lzLa\",\"buttonLog\":\"Header_buttonLog__11bFE\",\"comment\":\"Header_comment__1AoSg\",\"newComment\":\"Header_newComment__HXyzh\"};","let subscribers = {\r\n    'message-received': [],\r\n    'status-changed': []\r\n}\r\n\r\nlet wsChannel = null;\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n setTimeout(createChannel, 3000)\r\n}\r\n\r\nconst messagesHandler = e => {\r\n    let newMessages = JSON.parse(e.data);\r\n    subscribers['message-received'].forEach(s => s(newMessages))\r\n}\r\n\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\n\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n    console.error('Refresh page')\r\n}\r\n\r\nconst cleanUp = () => {\r\n    wsChannel?.removeEventListener('close', closeHandler)\r\n    wsChannel?.removeEventListener('message', messagesHandler)\r\n    wsChannel?.removeEventListener('open', openHandler)\r\n    wsChannel?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nconst notifySubscribersAboutStatus = (status) => {\r\n    subscribers['status-changed'].forEach(s => s(status))\r\n}\r\n\r\nfunction createChannel(){\r\n    cleanUp();\r\n    wsChannel?.close()\r\n    wsChannel = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    wsChannel?.addEventListener('close', closeHandler)\r\n    wsChannel?.addEventListener('message', messagesHandler)\r\n    wsChannel?.addEventListener('open', openHandler)\r\n    wsChannel?.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const messengerAPI = {\r\n\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        subscribers['message-received'] = [];\r\n        subscribers['status-changed'] = []\r\n        cleanUp();\r\n        wsChannel?.close();\r\n    },\r\n    subscribe(eventName, callback){\r\n        subscribers[eventName].push(callback)\r\n        return () => {\r\n            subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName, callback){\r\n            subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message){\r\n        wsChannel?.send(message)\r\n    }\r\n}","import { v1 } from \"uuid\";\r\nimport { messengerAPI } from \"../api/messenger-api\";\r\n\r\nconst MESSAGES_RECIEVED ='samurai-network/messanger/MESSAGES-RECIEVED'\r\nconst STATUS_CHANGED = 'samurai-network/messanger/STATUS-CHANGED'\r\nconst CLEAN_UP_MESSAGES = 'samurai-network/messanger/CLEAN-UP-MESSAGES'\r\n\r\nlet initialState = {\r\n    messages: [],\r\n    status: 'pending'\r\n}\r\n\r\nconst messengerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case MESSAGES_RECIEVED:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.map(m => ({...m, id: v1()}))]\r\n                    .filter((m, index, array) => index >= array.length - 100)\r\n            }\r\n        case STATUS_CHANGED:\r\n            return {\r\n                ...state,\r\n                status: action.payload\r\n            }\r\n        case CLEAN_UP_MESSAGES:\r\n            return {\r\n                ...state,\r\n                messages: []\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const actions = {\r\n    messagesRecieved: messages => ({type: MESSAGES_RECIEVED, payload: messages}),\r\n    statusChanged: status => ({type: STATUS_CHANGED, payload: status})\r\n}\r\n\r\nlet _newMessageHandler = null;\r\n\r\nconst newMessageHandlerCreator = ( dispatch) =>  {\r\n\r\n    if(_newMessageHandler === null){\r\n        _newMessageHandler = (messages) => {\r\n           dispatch(actions.messagesRecieved(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n}\r\nlet _statusChangedHandler = null;\r\n\r\nconst statusChangedHandlerCreator = ( dispatch) =>  {\r\n    if(_statusChangedHandler === null){\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(actions.statusChanged(status))\r\n        }\r\n    }\r\n\r\n    return _statusChangedHandler\r\n}\r\nexport const startMessagesListening = () => async (dispatch) => {\r\n    messengerAPI.subscribe('message-received', newMessageHandlerCreator(dispatch))\r\n    messengerAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    messengerAPI.start()\r\n}\r\n\r\nexport const stopMessagesListening = () => async (dispatch) => {\r\n    messengerAPI.unsubscribe('message-received', newMessageHandlerCreator(dispatch))\r\n    messengerAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    messengerAPI.stop();\r\n}\r\n\r\nexport const sendMessage = (message) => async (dispatch) => {\r\n    messengerAPI.sendMessage(message)\r\n}\r\n\r\nexport const cleanUpMessages = () => ({ type: CLEAN_UP_MESSAGES })\r\n\r\nexport default messengerReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__4fByL\",\"postTextWrapper\":\"formsControls_postTextWrapper__179qL\",\"error\":\"formsControls_error__1gPDV\"};","export default __webpack_public_path__ + \"static/media/rotating-balls-spinner.a6b7f400.gif\";","import React from 'react';\r\nimport preloader from './../../../assets/images/rotating-balls-spinner.gif'\r\n\r\nlet Preloader = (props) => {\r\n    return <div> <img src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","import React, { useEffect, useState } from 'react';\r\nimport { useRef } from 'react';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport styled from 'styled-components';\r\nimport style from './formsControls.module.scss';\r\n\r\n\r\nconst FormComponent = ({ input, meta, children, ...props }) => {\r\n    const hasError = meta.touched && meta.error && (!meta.active);\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div className={style.postTextWrapper}>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst StyledTextArea = styled(TextareaAutosize)`\r\n    min-height: 4em;\r\n    width: 90%;\r\n    margin: 0;\r\n    resize: none;\r\n    overflow: hidden;`;\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, userName, ...restProps } = props\r\n    const [author, id] = userName || '';\r\n    const [textAuthor, setTextAuthor] = useState([])\r\n    const [nextText, setNextText] = useState('');\r\n    const inputRef = useRef();\r\n    const [inInput, setInInput] = useState(false)\r\n\r\n    if (input) {\r\n        Object.defineProperty(input, \"value\", {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTextAuthor([author])\r\n        setInInput(false)\r\n    }, [author, id])\r\n\r\n    useEffect(() => {\r\n        if (!inInput) {\r\n            let textInput = [inputRef.current.value, ...textAuthor].join('')\r\n            inputRef.current.value = textInput\r\n            setInInput(true)\r\n        }\r\n    }, [id, author, inInput, textAuthor])\r\n\r\n    const handleChange = (e) => {\r\n        if (!e) return\r\n        if (!e.nativeEvent.data) {\r\n            if (nextText.length > 1) {\r\n                console.log(nextText)\r\n                setNextText(n => n.slice(0, -1))\r\n            } else {\r\n                if (!input.value) {\r\n                    setTextAuthor(['']);\r\n                    setNextText('')\r\n                }\r\n            }\r\n        } else {\r\n            setNextText(n => n + e.nativeEvent.data)\r\n        }\r\n    }\r\n\r\n    return <FormComponent {...props}>\r\n            <StyledTextArea ref={inputRef} onChange={handleChange} {...input} {...restProps} />\r\n    </FormComponent>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormComponent {...props}><input {...input} {...restProps} /></FormComponent>\r\n}\r\n\r\n "],"sourceRoot":""}