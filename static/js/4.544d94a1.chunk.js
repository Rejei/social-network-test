(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{101:function(t,e,s){"use strict";s.d(e,"a",(function(){return p}));var i=s(3),n=s(18),r=s(19),c=s(22),a=s(21),o=s(0),u=s(1),j=s.n(u),l=s(15),b=s(7),d=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var e=function(e){Object(c.a)(u,e);var s=Object(a.a)(u);function u(){return Object(n.a)(this,u),s.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(o.jsx)(t,Object(i.a)({},this.props)):Object(o.jsx)(b.a,{to:"/login"})}}]),u}(j.a.Component);return Object(l.b)(d)(e)}},103:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__UUjT0",mainPhoto:"ProfileInfo_mainPhoto__2F-vV"}},115:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__1jEL_",posts:"MyPosts_posts__3A3wD"}},116:function(t,e,s){t.exports={item:"Post_item__37Lp2",like:"Post_like__yzOIe"}},119:function(t,e,s){"use strict";s.r(e);var i=s(3),n=s(18),r=s(19),c=s(22),a=s(21),o=s(0),u=s(1),j=s.n(u),l=s(15),b=s(43),d=s(27),p=s(103),h=s.n(p),O=function(t){var e=t.status,s=t.updateStatus,i=Object(u.useState)(!1),n=Object(b.a)(i,2),r=n[0],c=n[1],a=Object(u.useState)(e),j=Object(b.a)(a,2),l=j[0],d=j[1];Object(u.useEffect)((function(){d(e)}),[e]);return Object(o.jsxs)("div",{children:[!r&&Object(o.jsx)("div",{children:Object(o.jsx)("span",{onDoubleClick:function(){c(!0)},children:e||"-----"})}),r&&Object(o.jsx)("div",{children:Object(o.jsx)("input",{autoFocus:!0,onChange:function(t){d(t.currentTarget.value)},onBlur:function(){c(!1),s(l)},value:l})})]})},f=s(53),x=s(20),A=s(104),m=s(35),v=s(107);function g(){var t=Object(v.a)(["\n  \n  top: 0;\n  right: 0;\n  font-style: normal;\n  text-align: center;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  border-radius: ","px;\n  border: 1px solid #ddd;\n  background: #eee;\n"]);return g=function(){return t},t}function k(){var t=j.a.useRef(0);return Object(o.jsx)(P,{children:++t.current})}var P=s(108).a.i(g(),30,30,30,15),M=function(t){var e=t.profile,s=t.editMode,n=t.contactTitle,r=t.contactValue,c=t.validate;t.initialValues;if(s){var a=Object.keys(e.contacts).map((function(t){return t}));return Object(o.jsx)(A.a,{name:"contacts",fields:a,children:function(t){var e=t.fields,s=t.subscription;return Object(o.jsx)("div",{children:e.map((function(t,e){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:t}),Object(o.jsx)(x.a,{name:"contacts.".concat(t),component:"input",validate:c,subscription:s,index:e,children:function(e){var n=e.input,r=e.meta;return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{}),Object(o.jsx)("input",Object(i.a)(Object(i.a)({},n),{},{placeholder:t,subscription:s})),r.error&&r.touched&&Object(o.jsx)("span",{children:r.error})]})}})]})},t)}))})}})}return Object(o.jsxs)("div",{children:[n," : ",r]})},S=function(t){return Object(o.jsx)("div",{children:Object(o.jsx)(M,Object(i.a)({},t))})},y=function(t){var e=t.profile,s=t.isOwner,i=t.goToEditMode,n=t.editMode,r=!0===e.lookingForAJob?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKcSURBVEhLzZZbiE1RGMeXO0kNoyaRcsmTN8WLKZcHJcYDU+KRB4kwijRmmimE4cUM5f4w5UHRhBJPQh6UFw9kZooYaVxyiXG//P5r7bXnzJljzzl7r4l//frOt/Zp//e311rf2uZfaUgUB0VvpsycQJgIY5SWd3V2aVwaFGMMZVYJ62EajICzcADzn8TwxpjOIOyFVTBMY+gRVGHa7lJjhkYxiDDVK22AKvCmz2APdNgsUjBjTMcS1sBK0ANIX6AZ2qj2tx2JFMQYU02Z5vQgeFPpPBzH9KNLexWq4rmwH7SKpV9wE3ZAP1MpszHVlhO2wmw74HQX9lFpN+gh+imTMabaJuugGvxiegstcN1mf1HWirWQdoE31R49BBfyF1O+UhtT7RzCZiizA8b8gEtwClOt5kSlMsZ0HEHzOs8OOHXCbkxfujRZaSveALmdSWa1mD5w6cAq2ZhqFxK2wyg7YMx30Lxes1mRKskY08mEjVABahrf4A6cpNpPxKJVasUrYLn7aaU+vAXTdy4tXvHpRDUjCctAr/IpHOGGX4lWXJ9POA2z7IDbr9uglf8VbBJJshVz00kEnSo6MzdBIywCK66r/9aAjjxJRmfgShpTyVbMjRcQLsJ45Uibvw3WgqpWozgHw0G6B9WYPnZp6fJz/BpyF4ceaClMB506TeBN38NOeGKzlPLGzyH+Ooik7XIY6mCqBpC2zgm4RbWJLXEgeWOtyhvuZx8tgcXgF+F9UEvUNsokaxw9/VVIquIV1EOfT5i08hVL6rWikLRyj8LtrK/YK9f4M1yG/BvrqHsIxzD9YEcCKDbmpto2rZB/uryAGq7rVQdT3Lm82NP6mlgNOvq6QXOvgz3uYiFUyFhj6lSjQWY9oeb1P5AxfwBmJrsSM8TFrgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIrSURBVEhLtZY9a1RREIaPUdRCSbQUghamD5JSiRIEQcFGBcHGImUgoMRGEBUEC8FGsLBQRLDUykIQ/QVGCxsLvzCBNKt1vnzGfc8yO5713uzdfeHh3jNn5p29H+fcTSVtpnQc7sANOKFwpcidhvfwGz7CjKaqRfIZ2Azc1nRPkXMQWq7GWIVDSunSiI5eu3X0uo7BY5330iyMtU872gEX2qcV2khplCbL+sWRu0rrEvF9EK/WsNi00qpF8jFXHLmstI6ILYSczE2l1BdFc8HEc1RpaT2lXYy/hHnD7lq89fVE4XNn5FlRiuWUXkZjQSlbF8VjsOjMPNeU8yLEDXu2+/+a9CsMJmBNhtH8EtiSiXP3Vd5MGF0MxlVMqrS5MHsZzHvxTiWDEYZ7wbbDUjPPVZUMTmwuBzAuPe+MPff+llCVMJ5yjSLPlDYc0eBpaJhpcVeKH4WBiAalnSrzA5qt4ZIwnXFNevHd3geVFFX6LFbppI7/0/i2lF7RfI/GzcSVbIdv7soMe5PfhFhmcSDNMTobjI1bmrNH8MvFM7bXN1tiGDxxhpnOJ5KrG2dc2mR+wpTStiYKR2BJRpkHmu4S8fmQlzmllPqiaDKY2LM9oul/xNxOuAIrkGsearq+KDrsDD7BeU1VitxzYH+V7ylUXxT5/1WnFR6uaGT/RPxu1d+L4lR3A2E/6OzBj6Dx2qzVmK4tDl/bo/SZ8VudD1/c3g/wmrU6qlADpfQHEEn+KYUUkJcAAAAASUVORK5CYII=";return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Full name"}),": ",e.fullName]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Looking for a job"}),": ",Object(o.jsx)("img",{src:r})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(o.jsx)(S,{contactTitle:t,contactValue:e.contacts[t],editMode:n,profile:e},t)}))]}),s&&Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:i,children:"Edit"})})]})},V=s(114),B=j.a.memo((function(t){return Object(o.jsx)(x.b,{initialValues:t.initialValues,onSubmit:t.onSubmit,subscription:t.subscription,mutators:Object(i.a)({},V.a),render:function(e){var s=e.handleSubmit,n=e.submitError,r=(e.form,e.submitting),c=e.pristine,a=(e.values,e.form.mutators);a.push,a.pop;return Object(o.jsxs)("form",{onSubmit:s,children:[Object(o.jsx)(x.a,{name:"fullName",children:function(t){var e=t.input,s=t.meta;return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{}),Object(o.jsx)("label",{children:"Full Name"}),Object(o.jsx)("input",Object(i.a)(Object(i.a)({},e),{},{placeholder:"Full Name"})),s.touched&&s.error&&Object(o.jsx)("span",{children:s.error})]})}}),Object(o.jsx)(x.a,{name:"lookingForAJob",children:function(t){var e=t.input,s=t.meta;return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{}),Object(o.jsx)("label",{children:"Looking for a job"}),Object(o.jsx)("input",{input:e,type:"checkbox"}),s.touched&&s.error&&Object(o.jsx)("span",{children:s.error})]})}}),Object(o.jsx)(x.a,{name:"lookingForAJobDescription",parse:function(t){return t||"---"},children:function(t){var e=t.input,s=t.meta;return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{}),Object(o.jsx)("label",{children:"My professional skills"}),Object(o.jsx)("input",Object(i.a)(Object(i.a)({},e),{},{placeholder:"My skills",type:"textarea"})),s.touched&&s.error&&Object(o.jsx)("span",{children:s.error})]})}}),Object(o.jsx)(x.a,{name:"aboutMe",parse:function(t){return t||"---"},children:function(t){var e=t.input,s=t.meta;return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{}),Object(o.jsx)("label",{children:"About Me"}),Object(o.jsx)("input",Object(i.a)(Object(i.a)({},e),{},{placeholder:"About Me",type:"textarea"})),s.touched&&s.error&&Object(o.jsx)("span",{children:s.error})]})}}),Object(o.jsx)(x.a,{name:"contacts",editMode:t.editMode,initialValues:t.initialValues,profile:t.profile,validate:Object(m.a)(m.b),children:function(t){return Object(o.jsx)(S,Object(i.a)(Object(i.a)({},t),{},{validate:Object(m.a)(m.b),subscription:t.subscription}))}}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",disabled:r||c,errors:n,children:"Apply changes"})})]})}})})),U=function(t){var e=t.profile,s=t.status,i=t.updateStatus,n=t.isOwner,r=t.savePhoto,c=t.saveProfile,a=Object(u.useState)(!1),j=Object(b.a)(a,2),l=j[0],p=j[1];if(!e)return Object(o.jsx)(d.a,{});return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:h.a.descriptionBlock,children:[Object(o.jsx)("img",{src:e.photos.large||f.a,className:h.a.mainPhoto}),n&&Object(o.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])}})]}),Object(o.jsx)(O,{status:s,updateStatus:i}),l?Object(o.jsx)(B,{initialValues:e,profile:e,subscription:{submitting:!0,pristine:!0},onSubmit:function(t){c(t),p(!1)},editMode:!0}):Object(o.jsx)(y,{profile:e,isOwner:n,goToEditMode:function(){p(!0)},editMode:!1})]})},w=s(42),R=s(24),E=s(26),N=s(115),z=s.n(N),D=s(116),F=s.n(D),I=function(t){var e=t.message,s=t.likes;return Object(o.jsxs)("div",{className:F.a.item,children:[Object(o.jsx)("img",{src:"https://user-life.com/uploads/posts/2018-08/1535602801_kak-delat-avatarki-krasivye-prikolnye-krutye-dlya-devushek-besplatno-foto-kartinki-dlya-vk-stima-yutuba-instagram-vatsapa.jpg"}),e,Object(o.jsxs)("div",{className:F.a.like,children:[Object(o.jsx)("span",{children:"like"})," ",s]})]})},J=Object(m.c)(15),C=function(t){return Object(o.jsx)(x.b,{onSubmit:t.onSubmit,subscription:t.subscription,validate:t.validate,render:function(e){var s=e.handleSubmit,i=(e.form,e.submitting),n=e.pristine;e.values;return Object(o.jsxs)("form",{onSubmit:s,children:[Object(o.jsx)("div",{children:Object(o.jsx)(x.a,{name:"myNewPost",component:E.b,validate:t.validate})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{disabled:i||n,children:"Add post"})})]})}})},H=j.a.memo((function(t){var e=t.postsData,s=t.addPost,i=Object(R.a)(t,["postsData","addPost"]),n=e.map((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.id;return Object(o.jsx)(I,{message:t.message,likes:t.likesCount},e)}));return Object(o.jsxs)("div",{className:z.a.postsBlock,children:[Object(o.jsx)("h3",{children:"My posts"}),Object(o.jsx)("div",{children:Object(o.jsx)(C,{subscription:{submitting:!0,pristine:!0},onSubmit:function(t){var e;e=t.myNewPost,s(e)},validate:Object(m.a)(J,m.d),props:i})}),Object(o.jsx)("div",{className:z.a.posts,children:n})]})})),K=Object(l.b)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(w.a)(e))}}}))(H),Y=function(t){var e=t.profile,s=t.status,i=t.updateStatus,n=t.store,r=t.isOwner,c=t.savePhoto,a=t.editMode,u=t.saveProfile;return Object(o.jsxs)("div",{children:[Object(o.jsx)(U,{savePhoto:c,isOwner:r,profile:e,status:s,updateStatus:i,editMode:a,saveProfile:u}),Object(o.jsx)(K,{store:n})]})},G=s(7),L=s(101),X=s(16),Q=function(t){Object(c.a)(s,t);var e=Object(a.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(o.jsx)(Y,Object(i.a)(Object(i.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(j.a.Component);e.default=Object(X.d)(Object(l.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:w.c,getStatus:w.d,updateStatus:w.g,savePhoto:w.e,saveProfile:w.f}),G.g,L.a)(Q)}}]);
//# sourceMappingURL=4.544d94a1.chunk.js.map